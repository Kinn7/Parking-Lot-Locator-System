spring:
  main:
    web-application-type: reactive

  cloud:
    gateway:
      discovery:
        locator:
          enabled: true
      routes:

        - id: Auth-Service
          uri: lb://Auth-Service
          predicates:
            - Path=/api/v1/auth/**

        - id: Parking-Lot-Service
          uri: lb://Parking-Lot-Service
          predicates:
            - Path=/api/v1/parking-lot/**
          filters:
            - AuthenticationFilter

        - id: Discovery-Server
          uri: http://localhost:8761
          predicates:
            - Path=/eureka/web
          filters:
            - SetPath=/

        - id: Discovery-Server-Static
          uri: http://localhost:8761
          predicates:
            - Path=/eureka/**
        - id: openapi
          uri: http://localhost:${server.port}
          predicates:
            - Path=/v3/api-docs/**
          filters:
            - RewritePath=/v3/api-docs/(?<path>.*), /$\{path}/v3/api-docs








  application:
    name: Api-Gateway

eureka:
  client:
    service-url:
      defaultZone : http://localhost:8761/eureka


server:
  port: 8008
  servlet:
    context-path: /

management:
  endpoint:
    health:
      show-details: always
  endpoints:
    web:
      exposure:
        include: openapi, swagger-ui, info, health

  tracing:
    sampling:
      probability: 1.0

springdoc:
  swagger-ui:
    urls:
      - name: employee
        url: /v3/api-docs/auth
      - name: department
        url: /v3/api-docs/department
      - name: organization
        url: /v3/api-docs/organization
  cache:
    disabled: true
#  enable-native-support: true
#  api-docs:
#    enabled: true
#  swagger-ui:
#    enabled: true
#    path: /swagger-ui.html
#    config-url: /v3/api-docs/swagger-config
#    urls:
#      - url: /v3/api-docs
#        name: Api Gateway
##        primaryName: API Gateway Service
#      - url: /Auth-Service/v3/api-docs
#        name: Auth Service
  show-actuator: true
#        primaryName: Product Service
##      - url: /price-service/v3/api-docs
#        name: Price Service
#        primaryName: Price Service



#  endpoints:
#    web:
#      base-path: /gateway/actuator

